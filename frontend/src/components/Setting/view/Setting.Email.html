<style>
	.tooltip.fade.bottom.in{
		z-index: 999;
	}

</style>

<div ng-if="settingCtrl.currentTab==3">


	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<a>
					<div class="ibox-title">
						<h5>{{ 'SETTING_EMAIL_TEMPLATES_MANAGEMENT' | translate }}</h5>
					</div>
				</a>
				<div class="ibox-content" id="templates">
					<button type="button" class="btn btn-success" ng-click="settingCtrl.openEmailTemplateModal()" data-toggle="modal">
                            <i class="fa fa-plus"></i>&nbsp; {{ 'SETTING_EMAIL_NEW_TEMPLATE' | translate }}
                        </button>

					<br/>
					<br/>
					<div class="project-list">
						<table class="table table-hover">
							<thead>
								<tr>
									<th></th>
									<th class="text-center">{{ 'COMMON_NAME' | translate }}</th>
									<th class="text-center">{{ 'COMMON_DESCRIPTION' | translate }}</th>
									<th class="text-center">{{ 'EMAIL_SUBJECT' | translate }}</th>
									<th class="text-center">{{ 'SETTING_TEMPLATE_NOTIFICATION_TYPE' | translate }}</th>
									<th class="text-center">{{ 'SETTING_TEMPLATE_SOURCE' | translate }}</th>
									<th class="text-center"><i class="fa fa-cog"></i></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="template in settingCtrl.templateService.templates|orderBy:'name'">
									<td class="project-status col-md-1 text-center">
										<span ng-show="!template.deactivated" class="label label-primary">{{ 'COMMON_ACTIVATED' | translate }}</span>
										<span ng-show="template.deactivated" class="label label-default">{{ 'COMMON_DEACTIVATED' | translate }}</span>
									</td>
									<td class="project-title col-md-2 text-center">
										<small>{{template.name}}</small>
									</td>
									<td class="project-completion col-md-3 text-center" max>
										<small style="word-wrap: break-word; word-break: break-all;">{{template.description}}</small>
									</td>
									<td class="project-title col-md-2 text-center">
										<small>{{template.subject}}</small>
									</td>
									<td class="project-title col-md-2 text-center">
										<small>{{template.notificationTypeString}}</small>
									</td>
									<td class="project-title col-md-2 text-center">
										<small>{{template.sourceString}}</small>
									</td>
									<td class="project-actions col-md-1 text-center" style="white-space: nowrap">
										<button type="button" class="btn btn-white btn-sm" ng-click="settingCtrl.openEditEmailTemplateModal(template)" title="{{ 'SETTING_EMAIL_TEMPLATE_EDIT' | translate }}">
                                            <i class="fa fa-pencil" aria-hidden="true"></i>
                                        </button>
										<button type="button" class="btn btn-white btn-sm" ng-click="settingCtrl.openEmailTemplateDeleteModal(template)" title="{{ 'SETTING_EMAIL_TEMPLATE_DELETE' | translate }}">
                                            <i class="fa fa-trash" aria-hidden="true"></i>
                                        </button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	// Collapse iBox Contents
	$('.collapse').on('shown.bs.collapse', function () {
		$(this).parent().find(".fa-chevron-down").removeClass("fa-chevron-down").addClass("fa-chevron-up");
	}).on('hidden.bs.collapse', function () {
		$(this).parent().find(".fa-chevron-up").removeClass("fa-chevron-up").addClass("fa-chevron-down");
	});

	$(document).ready(function () {
		$('[data-toggle="tooltip"]').tooltip({ placement: 'left' });
	});

</script>