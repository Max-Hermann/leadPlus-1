<form name="form">
    <div class="row">
        <div class="col-sm-6 b-r">
            <div class="form-group">
                <label>{{ 'CUSTOMER_MENU' | translate }}</label>
                <select class="form-control" ng-model="parent.currentCustomerId" ng-change="parent.selectCustomer(parent.editWorkflowUnit)">
                    <option value="-1" selected > - {{ 'CUSTOMER_CREATE' | translate }} - </option>                                                                     
                    <option value="{{customer.id}}" ng-repeat="customer in service.customerService.getActiveCustomers()">{{customer.firstname}} {{customer.lastname}}</option>                                          
                </select>
            </div>
            <div class="form-group">
                <label>{{ 'COMMON_TITLE' | translate }}</label>
                <select name="title" class="form-control" ng-model="parent.editWorkflowUnit.customer.title" ng-disabled="parent.customerSelected">
                    <option value="MR">{{ 'COMMON_TITLE_MR' | translate }}</option>
                    <option value="MS">{{ 'COMMON_TITLE_MS' | translate }}</option>
                </select>
            </div>
            <!-- FIRSTNAME -->
            <div class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.firstname.$invalid && !parent.customerEditForm.firstname.$pristine }">
                <label>{{ 'COMMON_FIRSTNAME' | translate }}<span style="color:red">*</span></label>
                <input required type="text" name="firstname" class="form-control" ng-model="parent.editWorkflowUnit.customer.firstname" ng-maxlength="30"
                    ng-disabled="parent.customerSelected">
                <p ng-show="parent.customerEditForm.firstname.$error.maxlength" class="help-block">{{ 'COMMON_VALIDATE_MAX' | translate }}30{{ 'COMMON_VALIDATE_MAX_END' | translate }}</p>
                <p ng-show="parent.customerEditForm.firstname.$error.required && !parent.customerEditForm.firstname.$pristine" class="help-block">{{ 'COMMON_VALIDATE_REQ' | translate }}</p>
            </div>
            <!-- LASTNAME -->
            <div class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.lastname.$invalid && !parent.customerEditForm.lastname.$pristine }">
                <label>{{ 'COMMON_LASTNAME' | translate }}<span style="color:red">*</span></label>
                <input required type="text" name="lastname" class="form-control" ng-model="parent.editWorkflowUnit.customer.lastname" ng-maxlength="30"
                    ng-disabled="parent.customerSelected">
                <p ng-show="parent.customerEditForm.lastname.$error.maxlength" class="help-block">{{ 'COMMON_VALIDATE_MAX' | translate }}30{{ 'COMMON_VALIDATE_MAX_END' | translate }}</p>
                <p ng-show="parent.customerEditForm.lastname.$error.required && !parent.customerEditForm.lastname.$pristine" class="help-block">{{ 'COMMON_VALIDATE_REQ' | translate }}</p>
            </div>
            <!-- COMPANY -->
            <div class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.company.$invalid && !parent.customerEditForm.company.$pristine }">
                <label>{{ 'COMMON_COMPANY' | translate }}</label>
                <input type="text" name="company" class="form-control" ng-model="parent.editWorkflowUnit.customer.company" ng-maxlength="50"
                    ng-disabled="parent.customerSelected">
                <p ng-show="parent.customerEditForm.company.$invalid && !parent.customerEditForm.company.$pristine" class="help-block">{{ 'COMMON_VALIDATE_MAX' | translate }}50{{ 'COMMON_VALIDATE_MAX_END' | translate }}</p>
            </div>
            <!-- EMAIL -->
            <div class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.email.$invalid && !parent.customerEditForm.email.$pristine }">
                <label>{{ 'COMMON_EMAIL' | translate }}</label>
                <input type="email" name="email" class="form-control" ng-model="parent.editWorkflowUnit.customer.email" ng-disabled="parent.customerSelected">
                <p ng-show="parent.customerEditForm.email.$invalid && !parent.customerEditForm.email.$pristine" class="help-block">{{ 'COMMON_VALIDATE_EMAIL'| translate }}</p>
            </div>
            <!-- PHONE -->
            <div class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.phone.$invalid && !parent.customerEditForm.phone.$pristine }">
                <label>{{ 'COMMON_PHONE' | translate }}</label>
                <input type="text" name="phone" class="form-control" ng-model="parent.editWorkflowUnit.customer.phone" ng-maxlength="50"
                    ng-disabled="parent.customerSelected">
                <p ng-show="parent.customerEditForm.phone.$invalid && !parent.customerEditForm.phone.$pristine" class="help-block">{{ 'COMMON_VALIDATE_MAX' | translate }}50{{ 'COMMON_VALIDATE_MAX_END' | translate }}</p>
            </div>
        </div>
        <div class="col-sm-6">
            <!-- MESSAGE -->
            <div>
                <div class="form-group">
                    <label>{{ 'COMMON_NOTE' | translate }}</label>
                    <textarea class="form-control" rows="5" name="message" style="resize:vertical;" ng-model="parent.editWorkflowUnit.message"></textarea>
                </div>
            </div>
            <!-- SALE TURNOVER -->
            <div ng-if="type=='sale'" class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.saleTurnover.$invalid && !parent.customerEditForm.saleTurnover.$pristine }">
                <label>{{ 'COMMON_PRODUCT_SALE_TURNOVER'| translate }}<span style="color:red">*</span></label>
                <div class="input-group">
                    <span class="input-group-addon">{{ 'COMMON_CURRENCY'| translate }}</span>
                    <input type="number" name="saleTurnover" class="form-control" ng-model="parent.editWorkflowUnit.saleTurnover" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                        step="0.01" min="0" step="0.01" data-number-to-fixed="2" data-number-stepfactor="100" class="form-control currency"
                        id="c2" required>
                </div>
                <p ng-show="parent.customerEditForm.saleTurnover.$invalid && !parent.customerEditForm.saleTurnover.$pristine" class="help-block">{{ 'COMMON_VALIDATE_REQ'| translate }}({{ 'COMMON_VALIDATE_REQ_NUMBER'| translate }})</p>
            </div>
            <!-- SALE PROFIT -->
            <div ng-if="type=='sale'" class="form-group" ng-class="{ 'has-error' : parent.customerEditForm.saleProfit.$invalid && !parent.customerEditForm.saleProfit.$pristine }">
                <label>{{ 'COMMON_PRODUCT_SALE_PROFIT'| translate }}<span style="color:red">*</span></label>
                <div class="input-group">
                    <span class="input-group-addon">{{ 'COMMON_CURRENCY'| translate }}</span>
                    <input type="number" name="saleProfit" class="form-control" ng-model="parent.editWorkflowUnit.saleProfit" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"
                        min="0" step="0.01" data-number-to-fixed="2" data-number-stepfactor="100" class="form-control currency"
                        id="c2" required>
                </div>
                <p ng-show="parent.customerEditForm.saleProfit.$invalid && !parent.customerEditForm.saleProfit.$pristine" class="help-block">{{ 'COMMON_VALIDATE_REQ'| translate }}({{ 'COMMON_VALIDATE_REQ_NUMBER'| translate }})</p>
            </div>
        </div>
    </div>
</form>

<script>
    $(document).ready(function () {
        $('#editOfferDatepicker .input-group.date').datepicker({
            todayBtn: "linked ",
            keyboardNavigation: false,
            forceParse: false,
            calendarWeeks: true,
            autoclose: true
        });
    });
</script>