<style>
    td.details-control {
        cursor: pointer;
        position: relative;
    }

    td.details-control:before {
        font-family: 'FontAwesome';
        content: "\f105";
        position: absolute;
    }

    tr.shown td.details-control:before {
        font-family: 'FontAwesome';
        content: "\f107";
    }
</style>

<meta charset="utf-8">
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-12">
        <div class="row">
            <div class="col-lg-10">
                <h2>Anfragen</h2>
                <ol class="breadcrumb">
                    <li>
                        <a href="#/dashboard">Home</a>
                    </li>
                    <li class="active">
                        <strong>Anfragen</strong>
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Anfrage Board</h5>
                </div>
                <div class="ibox-content">
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#newLeadModal">
                        <i class="fa fa-plus"></i>&nbsp;Add Lead
                    </button>
                    <button ng-click="lead.refreshData()" type="button" class="btn btn-success">
                        <i class="fa fa-refresh"></i>&nbsp;Reload data
                    </button>
                    <p class="text-danger"><strong>{{ lead.message }}</strong></p>
                    <div style="overflow:auto;">
                        <table datatable="" dt-options="lead.dtOptions" dt-columns="lead.dtColumns"
                               dt-instance="lead.dtInstance"
                               class="table table-striped table-bordered table-hover table-condensed text-center"
                               style="width:100%;"></table>
                    </div>
                </div>
                <div class="modal inmodal" id="editModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content animated fadeIn">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span
                                        aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                <h4 class="modal-title">Anfrage bearbeiten</h4>
                                <h2>Container xy</h2>
                            </div>
                            <div class="modal-body">
                                <form name="editForm" ng-submit="lead.submitForm()" novalidate>

                                    <!-- NAME -->
                                    <div class="form-group" ng-class="{ 'has-error' : editForm.name.$invalid && !editForm.name.$pristine }">
                                        <label>Name</label>
                                        <input type="text" name="name" class="form-control" ng-model="lead.editLead.firstName" required>
                                        <p ng-show="editForm.name.$invalid && !editForm.name.$pristine" class="help-block">You name is required.</p>
                                    </div>

                                    <!-- EMAIL -->
                                    <div class="form-group" ng-class="{ 'has-error' : editForm.email.$invalid && !editForm.email.$pristine }">
                                        <label>Email</label>
                                        <input type="email" name="email" class="form-control" ng-model="lead.editLead.lastName">
                                        <p ng-show="editForm.email.$invalid && !editForm.email.$pristine" class="help-block">Enter a valid email.</p>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-white" data-dismiss="modal">Abbrechen</button>
                                <button type="submit" class="btn btn-success" ng-disabled="editForm.$invalid" data-dismiss="modal">Speichern</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal inmodal" id="newLeadModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content animated fadeIn">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span
                                        aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                <h4 class="modal-title">Anfrage erstellen</h4>
                                <h2>Container xy</h2>
                            </div>
                            <div class="modal-body">
                                <form name="addForm" ng-submit="lead.submitForm()" novalidate>
                                    <!-- NAME -->
                                    <div class="form-group" ng-class="{ 'has-error' : addForm.name.$invalid && !addForm.name.$pristine }">
                                        <label>Name</label>
                                        <input type="text" name="name" class="form-control" ng-model="lead.newLead.firstName" required>
                                        <p ng-show="addForm.name.$invalid && !addForm.name.$pristine" class="help-block">You name is required.</p>
                                    </div>

                                    <!-- EMAIL -->
                                    <div class="form-group" ng-class="{ 'has-error' : addForm.email.$invalid && !addForm.email.$pristine }">
                                        <label>Email</label>
                                        <input type="email" name="email" class="form-control" ng-model="lead.newLead.lastName">
                                        <p ng-show="addForm.email.$invalid && !addForm.email.$pristine" class="help-block">Enter a valid email.</p>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-white" data-dismiss="modal">Abbrechen</button>
                                <button type="submit" class="btn btn-success" ng-disabled="addForm.$invalid" data-dismiss="modal">Speichern</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>