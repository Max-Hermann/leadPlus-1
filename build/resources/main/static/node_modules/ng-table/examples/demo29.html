<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta username="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!--[if lt IE 9]>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <![endif]-->
        <script src="js/angular.min.js"></script>
        <script src="../dist/ng-table.js"></script>
        <link rel="stylesheet" href="../dist/ng-table.css">
    </head>
<body ng-app="main">

<h1>Table with optional filters</h1>

<div ng-controller="DemoCtrl">
        <h4><u>Type something in filter and press <strong>Enter</strong> or <strong>Filter</strong> button</u></h4>
        <h4><strong>Filter:</strong> {{tableParams.filter()|json}}</h4>
        <br/>

        <h4><u>Adapt the filter to your needs:</u></h4>
        <form class="form-horizontal">
          <div class="form-group">
            <div class="col-sm-9">
              <div class="checkbox">
                <label>
                    <input type="checkbox" ng-model="showCheckbox" ng-init="showCheckbox=true"> Show All Filters
                </label>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-9">
              <div class="checkbox">
                <label>
                    <input type="checkbox" ng-model="disableCheckbox"> Disable All Filters
                </label>
              </div>
            </div>
          </div>
        </form>

        <table ng-table="tableParams" show-filter="showCheckbox" disable-filter="disableCheckbox" class="table">
            <tr ng-repeat="user in $data">
                <td data-title="'Name'" filter="{ 'username': 'text' }">
                    {{user.username}}
                </td>
                <td data-title="'Age'" filter="{ 'age': 'text' }">
                    {{user.age}}
                </td>
            </tr>
        </table>

        <script>
        var app = angular.module('main', ['ngTable']).
        controller('DemoCtrl', function($scope, $filter, ngTableParams) {
            var data = [{"age":28,"username":"Mercado Beasley"},{"age":35,"username":"Gladys Good"},{"age":37,"username":"Barton Alexander"},{"age":24,"username":"Petersen Weiss"},{"age":29,"username":"May Mcdaniel"},{"age":49,"username":"Padilla Wooten"},{"age":21,"username":"Katina Norris"},{"age":27,"username":"Dana Buckner"},{"age":35,"username":"Graham Burt"},{"age":40,"username":"Brittany Weber"},{"age":27,"username":"Solomon Bond"},{"age":33,"username":"Randolph Kirk"},{"age":33,"username":"Eugenia Cook"},{"age":33,"username":"Harrell Mcknight"},{"age":22,"username":"Schwartz House"},{"age":20,"username":"Marcie Ashley"},{"age":44,"username":"Ernestine Christian"},{"age":44,"username":"Susanna Todd"},{"age":36,"username":"Chan Acevedo"},{"age":31,"username":"Sutton White"},{"age":26,"username":"Carey Camacho"},{"age":40,"username":"Cantrell Gallegos"},{"age":28,"username":"Cox Nguyen"},{"age":35,"username":"Sara Hicks"},{"age":22,"username":"Pollard Lucas"},{"age":21,"username":"Mcfarland Higgins"},{"age":28,"username":"Sylvia Wiley"}];

            $scope.tableParams = new ngTableParams({
                page: 1,            // show first page
                count: 10,          // count per page
                filter: {           // initial filter
                    username: 'M',
                    age: ''
                }
            }, {
                total: data.length, // length of data
                getData: function($defer, params) {
                    // use build-in angular filter
                    var gridData = params.filter() ?
                           $filter('filter')(data, params.filter()) :
                           data;

                    $scope.users = gridData.slice((params.page() - 1) * params.count(), params.page() * params.count());

                    params.total(gridData.length); // set total for recalc pagination
                    $defer.resolve($scope.users);
                }
            });
        })
        </script>

</div>


    </body>
</html>
